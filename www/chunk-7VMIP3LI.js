import{e as W}from"./chunk-UYLHSKZE.js";import{b as me}from"./chunk-I5A6NSIN.js";import{a as ae,b as C}from"./chunk-YBS2C3O3.js";import{b as le,c as ue}from"./chunk-VVN35Y3F.js";import{b as pe}from"./chunk-QBVGC53F.js";import{j as te}from"./chunk-EXT7S62Z.js";import{b as se}from"./chunk-OEZDHVVJ.js";import{c as oe}from"./chunk-Y6Y75R7J.js";import"./chunk-BE4ZTW6G.js";import{a as ie,d as re,e as ne}from"./chunk-IT2U3YUS.js";import{Ca as A,Cb as Q,Ib as Y,Ob as Z,Sb as _,T,U as R,Vb as ee,ab as H,bb as k,c as X,cb as U,db as V,e as x,eb as v,f as B,h as G,j as w,lb as q,m as j,n as P,o as N,p as S,pb as L,tb as $,ub as O,vb as J,xb as K}from"./chunk-FZUU2ZSO.js";import{Ca as m,Da as u,La as a,Ta as o,Tb as h,Ua as i,Va as s,Z as d,ba as c,bb as M,ca as f,fc as E,hb as p,hc as I,jb as y,kc as b,lb as z}from"./chunk-Q2QJEMPV.js";var D=(()=>{let e=class e{constructor(t,n,l,F,fe){this.fb=t,this.router=n,this.msg=l,this.rs=F,this.route=fe,this.data={name:"\u65B0\u7528\u6237"},this.id=""}buildFromGroup(t){t=t||{},this.formGroup=this.fb.group({id:[this.id||"",[]],name:[t.name||"",[]],email:[t.email||"",[]],disabled:[t.disabled||!1,[]],admin:[t.admin||!1,[]],cellphone:[t.cellphone||"",[]]}),console.log(this.formGroup.value)}ngOnInit(){this.route.snapshot.paramMap.has("id")?(this.id=this.route.snapshot.paramMap.get("id"),this.buildFromGroup(),this.load()):this.buildFromGroup()}load(){this.rs.get(`user/${this.id}`).subscribe(t=>{this.buildFromGroup(t.data)},t=>{console.log("err:",t)})}onSubmit(){if(this.formGroup.valid){let t=this.id?`user/${this.id}`:"user/create";this.rs.post(t,this.formGroup.value).subscribe(n=>{this.router.navigateByUrl("admin/user"),this.msg.success("\u4FDD\u5B58\u6210\u529F")});return}else Object.values(this.formGroup.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}))})}onIconChange(t){}};e.\u0275fac=function(n){return new(n||e)(u(P),u(I),u(J),u(K),u(E))},e.\u0275cmp=c({type:e,selectors:[["app-user-edit"]],standalone:!0,features:[z],decls:37,vars:26,consts:[["nz-button","","nzType","primary",3,"click"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","id",3,"nzSm","nzXs"],["nzErrorTip","",3,"nzSm","nzXs"],["nz-input","","formControlName","id","placeholder","\u9009\u586B"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nz-input","","formControlName","name"],["nzRequired","","nzFor","cellphone",3,"nzSm","nzXs"],["nz-input","","nzPlaceHolder","\u7535\u8BDD","formControlName","cellphone"],["nzFor","email",3,"nzSm","nzXs"],["nz-input","","nzPlaceHolder","\u90AE\u7BB1","formControlName","email"],["nzFor","disabled",3,"nzSm","nzXs"],["formControlName","disabled"],["nzFor","admin",3,"nzSm","nzXs"],["formControlName","admin"]],template:function(n,l){n&1&&(o(0,"nz-page-header")(1,"nz-page-header-title"),p(2),i(),o(3,"nz-page-header-extra")(4,"button",0),M("click",function(){return l.onSubmit()}),p(5,"\u4FDD\u5B58"),i()()(),o(6,"form",1),M("ngSubmit",function(){return l.onSubmit()}),o(7,"nz-form-item")(8,"nz-form-label",2),p(9,"ID(\u7528\u6237\u540D)"),i(),o(10,"nz-form-control",3),s(11,"input",4),i()(),o(12,"nz-form-item")(13,"nz-form-label",5),p(14,"\u59D3\u540D"),i(),o(15,"nz-form-control",3),s(16,"input",6),i()(),o(17,"nz-form-item")(18,"nz-form-label",7),p(19,"\u7535\u8BDD"),i(),o(20,"nz-form-control",3),s(21,"input",8),i()(),o(22,"nz-form-item")(23,"nz-form-label",9),p(24,"\u90AE\u7BB1"),i(),o(25,"nz-form-control",3),s(26,"input",10),i()(),o(27,"nz-form-item")(28,"nz-form-label",11),p(29,"\u7981\u7528"),i(),o(30,"nz-form-control",3),s(31,"nz-switch",12),i()(),o(32,"nz-form-item")(33,"nz-form-label",13),p(34,"\u5E73\u53F0\u7BA1\u7406\u5458"),i(),o(35,"nz-form-control",3),s(36,"nz-switch",14),i()()()),n&2&&(m(2),y("\u7528\u6237",l.id?"\u7F16\u8F91":"\u521B\u5EFA",""),m(4),a("formGroup",l.formGroup),m(2),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24),m(3),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24),m(3),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24),m(3),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24),m(3),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24),m(3),a("nzSm",6)("nzXs",24),m(2),a("nzSm",14)("nzXs",24))},dependencies:[C,ae,h,$,ne,re,ie,N,G,X,x,B,S,w,j,v,R,T,k,H,V,U,q]});let r=e;return r})();var de=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["app-user-detail"]],standalone:!0,features:[z],decls:2,vars:0,template:function(n,l){n&1&&(o(0,"p"),p(1,"user-detail works!"),i())}});let r=e;return r})();var ze=[{path:"",component:ue},{path:"create",component:D},{path:":id",component:de},{path:"edit/:id",component:D}],ce=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=d({imports:[b.forChild(ze),b]});let r=e;return r})();var at=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=d({imports:[se,ce,h,W,Q,A,le,_,C,O,oe,Y,Z,N,S,v,L,me,ee,te,pe]});let r=e;return r})();export{at as UserModule};
