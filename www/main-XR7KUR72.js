import{a as ot,b as at,c as st,d as ut}from"./chunk-UYLHSKZE.js";import{a as xt}from"./chunk-I24Z7XYZ.js";import{a as et,c as zt,e as gt,f as _t,g as bt,h as vt,i as Ct}from"./chunk-EXT7S62Z.js";import{$ as Me,Aa as $e,Ab as it,Ba as Y,Bb as rt,Hb as lt,Ib as mt,Ja as Je,Jb as ct,Ka as Ye,Pb as pt,Rb as dt,T as $,Tb as ft,U as J,Ub as ht,Za as Qe,_ as Fe,aa as Ae,ab as Q,ba as Ie,bb as K,c as U,ca as we,cb as Z,d as S,da as Pe,db as Ke,e as q,ea as De,eb as Ze,f as k,fa as Ne,ga as Be,h as H,ha as Re,ia as Oe,j as W,ja as Te,ka as Le,la as je,lb as M,m as X,ma as Ue,n as V,na as qe,nb as ee,o as F,oa as ke,p as G,pa as He,qa as We,ra as Xe,sa as Ve,ta as Ge,tb as A,vb as te,xb as v,yb as tt,zb as nt}from"./chunk-FZUU2ZSO.js";import{$ as w,$b as xe,Ab as _e,Ca as m,Da as d,Ib as be,Kb as O,La as c,Lb as ve,Sa as z,Sb as Ce,Ta as s,Tb as T,Ua as u,Va as f,Wa as oe,Xa as ae,Y as B,a as pe,aa as ie,b as de,ba as g,bb as x,bc as Se,cc as Ee,db as se,gb as P,gc as L,h as N,hb as l,hc as C,ib as _,ic as j,jb as he,jc as ye,lb as b,nb as ue,oa as re,qb as ze,rb as ge,va as fe,yb as R}from"./chunk-Q2QJEMPV.js";var h=class a{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(o,r=!1){return this.onePassHasher.start().appendStr(o).end(r)}static hashAsciiStr(o,r=!1){return this.onePassHasher.start().appendAsciiStr(o).end(r)}static _hex(o){let r=a.hexChars,n=a.hexOut,e,t,i,p;for(p=0;p<4;p+=1)for(t=p*8,e=o[p],i=0;i<8;i+=2)n[t+1+i]=r.charAt(e&15),e>>>=4,n[t+0+i]=r.charAt(e&15),e>>>=4;return n.join("")}static _md5cycle(o,r){let n=o[0],e=o[1],t=o[2],i=o[3];n+=(e&t|~e&i)+r[0]-680876936|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[1]-389564586|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[2]+606105819|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[3]-1044525330|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[4]-176418897|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[6]-1473231341|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[7]-45705983|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[8]+1770035416|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[10]-42063|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[11]-1990404162|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[12]+1804603682|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[13]-40341101|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[14]-1502002290|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[15]+1236535329|0,e=(e<<22|e>>>10)+t|0,n+=(e&i|t&~i)+r[1]-165796510|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[11]+643717713|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[0]-373897302|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[5]-701558691|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[10]+38016083|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[15]-660478335|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[4]-405537848|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[9]+568446438|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[3]-187363961|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[8]+1163531501|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[13]-1444681467|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[2]-51403784|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[7]+1735328473|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[12]-1926607734|0,e=(e<<20|e>>>12)+t|0,n+=(e^t^i)+r[5]-378558|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[11]+1839030562|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[14]-35309556|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[1]-1530992060|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[7]-155497632|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[10]-1094730640|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[13]+681279174|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[0]-358537222|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[3]-722521979|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[6]+76029189|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[9]-640364487|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[12]-421815835|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[15]+530742520|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[2]-995338651|0,e=(e<<23|e>>>9)+t|0,n+=(t^(e|~i))+r[0]-198630844|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[14]-1416354905|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[5]-57434055|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[12]+1700485571|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[10]-1051523|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[1]-2054922799|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[8]+1873313359|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[15]-30611744|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[6]-1560198380|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[13]+1309151649|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[4]-145523070|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[2]+718787259|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[9]-343485551|0,e=(e<<21|e>>>11)+t|0,o[0]=n+o[0]|0,o[1]=e+o[1]|0,o[2]=t+o[2]|0,o[3]=i+o[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(a.stateIdentity),this}appendStr(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i;for(i=0;i<o.length;i+=1){if(t=o.charCodeAt(i),t<128)r[e++]=t;else if(t<2048)r[e++]=(t>>>6)+192,r[e++]=t&63|128;else if(t<55296||t>56319)r[e++]=(t>>>12)+224,r[e++]=t>>>6&63|128,r[e++]=t&63|128;else{if(t=(t-55296)*1024+(o.charCodeAt(++i)-56320)+65536,t>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[e++]=(t>>>18)+240,r[e++]=t>>>12&63|128,r[e++]=t>>>6&63|128,r[e++]=t&63|128}e>=64&&(this._dataLength+=64,a._md5cycle(this._state,n),e-=64,n[0]=n[16])}return this._bufferLength=e,this}appendAsciiStr(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(o.length-i,64-e);t--;)r[e++]=o.charCodeAt(i++);if(e<64)break;this._dataLength+=64,a._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}appendByteArray(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(o.length-i,64-e);t--;)r[e++]=o[i++];if(e<64)break;this._dataLength+=64,a._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}getState(){let o=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[o[0],o[1],o[2],o[3]]}}setState(o){let r=o.buffer,n=o.state,e=this._state,t;for(this._dataLength=o.length,this._bufferLength=o.buflen,e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],t=0;t<r.length;t+=1)this._buffer8[t]=r.charCodeAt(t)}end(o=!1){let r=this._bufferLength,n=this._buffer8,e=this._buffer32,t=(r>>2)+1;this._dataLength+=r;let i=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,e.set(a.buffer32Identity.subarray(t),t),r>55&&(a._md5cycle(this._state,e),e.set(a.buffer32Identity)),i<=4294967295)e[14]=i;else{let p=i.toString(16).match(/(.*?)(.{0,8})$/);if(p===null)return;let y=parseInt(p[2],16),ce=parseInt(p[1],16)||0;e[14]=y,e[15]=ce}return a._md5cycle(this._state,e),o?this._state:a._hex(this._state)}};h.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);h.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);h.hexChars="0123456789abcdef";h.hexOut=[];h.onePassHasher=new h;if(h.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");var I=(()=>{let o=class o{constructor(n){this.rs=n,this.userSub=new N,this.getting=!0,console.log("user me"),n.get("user/me").subscribe(e=>{console.log("user me ok"),this.setUser(e.data)},e=>{this.userSub.error(e)}).add(()=>{console.log("getting false"),this.getting=!1})}setUser(n){this.user=n,this.userSub.next(n)}getUser(){return this.user}subscribe(){return this.userSub.subscribe()}};o.\u0275fac=function(e){return new(e||o)(w(v))},o.\u0275prov=B({token:o,factory:o.\u0275fac,providedIn:"root"});let a=o;return a})();var ne=(()=>{let o=class o{constructor(n,e){this.rs=n,this.title=e,this.oem={name:"\u7269\u8054\u5927\u5E08",logo:"/assets/logo.png",company:"\u65E0\u9521\u771F\u683C\u667A\u80FD\u79D1\u6280\u6709\u9650\u516C\u53F8",copyright:"\xA92016-2024"};let t=localStorage.getItem("oem");t&&(t=JSON.parse(t),Object.assign(this.oem,t),this.title.setTitle(t.title)),n.get("oem").subscribe(i=>{let p=i.data;localStorage.setItem("oem",JSON.stringify(p)),Object.assign(this.oem,p),this.title.setTitle(p.title)})}};o.\u0275fac=function(e){return new(e||o)(w(v),w(Ee))},o.\u0275prov=B({token:o,factory:o.\u0275fac,providedIn:"root"});let a=o;return a})();var yt=(()=>{let o=class o{constructor(n,e,t,i,p){this.fb=n,this.rs=e,this.us=t,this.router=i,this.os=p}submitForm(){console.log("submit form");for(let e in this.validateForm.controls)this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity();if(!this.validateForm.valid)return;let n=h.hashStr(this.validateForm.value.password);this.rs.post("login",{username:this.validateForm.value.username,password:n}).subscribe(e=>{console.log("res:",e),this.us.setUser(e.data);let t="/admin";this.router.navigate([t]).then(i=>{})},e=>{console.log("err:",e)})}ngOnInit(){this.validateForm=this.fb.group({username:[null,[S.required]],password:[null,[S.required]],remember:[!1]})}};o.\u0275fac=function(e){return new(e||o)(d(V),d(v),d(I),d(C),d(ne))},o.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[b],decls:23,vars:4,consts:[[1,"login"],[1,"login-title"],[1,"login-form"],["nz-form","",3,"formGroup","ngSubmit"],["nzErrorTip","\u8BF7\u8F93\u5165\u7528\u6237\u540D!"],["nzPrefixIcon","user","nzSize","large",2,"border-radius","10px"],["type","text","nz-input","","formControlName","username","placeholder","\u7528\u6237\u540D","nzSize","large"],["nzErrorTip","\u8BF7\u8F93\u5165\u5BC6\u7801!"],["nzPrefixIcon","lock","nzSize","large",2,"border-radius","10px"],["type","password","nz-input","","formControlName","password","placeholder","\u5BC6\u7801"],["nz-row","",1,"login-form-margin"],["nz-col","",3,"nzSpan"],["nz-checkbox","","formControlName","remember","nzDisabled",""],[1,"login-form-forgot"],["nz-button","","nzSize","large","nzType","primary",1,"login-form-button","login-form-margin"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h1",1),l(2),u(),s(3,"div",2)(4,"form",3),x("ngSubmit",function(){return t.submitForm()}),s(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),f(8,"input",6),u()()(),s(9,"nz-form-item")(10,"nz-form-control",7)(11,"nz-input-group",8),f(12,"input",9),u()()(),s(13,"div",10)(14,"div",11)(15,"label",12)(16,"span"),l(17,"\u8BB0\u4F4F\u6211"),u()()(),s(18,"div",11)(19,"a",13),l(20,"\u5FD8\u8BB0\u5BC6\u7801"),u()()(),s(21,"button",14),l(22,"\u767B \u5F55"),u()()()()),e&2&&(m(2),_(t.os.oem.name),m(2),c("formGroup",t.validateForm),m(10),c("nzSpan",12),m(4),c("nzSpan",12))},dependencies:[K,Q,ee,Z,$,J,et,A,F,H,U,q,k,G,W,X,M],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-content:center;width:100%;height:100%;background-color:#888;background-image:url(/assets/bg.jpg);background-size:cover;background-position:center}.login[_ngcontent-%COMP%]{margin-top:100px;width:300px;max-width:400px}.login[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#fff;text-align:center;text-shadow:black 2px 2px 5px;letter-spacing:5px}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px 50px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}"]});let a=o;return a})();var Ft=(()=>{let o=class o{constructor(n,e,t,i){this.fb=n,this.router=e,this.rs=t,this.msg=i,this.id=0,this.build()}build(){this.group=this.fb.group({old:["",[S.required]],new:["",[S.required]],repeat:["",[S.required]]})}submit(){return new Promise((n,e)=>{if(this.group.valid){let{old:t,repeat:i}=this.group.value,p=this.group.value.new;if(p!==i)return this.msg.warning("\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u786E\u8BA4"),e();let y={old:h.hashStr(t),new:h.hashStr(p)};this.rs.post("password",y).subscribe(ce=>{this.rs.get("logout").subscribe(Qt=>{}),this.router.navigateByUrl("/login"),this.msg.success("\u4FDD\u5B58\u6210\u529F"),n(!0)})}else Object.values(this.group.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}),e())})})}};o.\u0275fac=function(e){return new(e||o)(d(V),d(C),d(v),d(te))},o.\u0275cmp=g({type:o,selectors:[["app-password"]],standalone:!0,features:[b],decls:16,vars:13,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","old",3,"nzSm","nzXs"],["nzErrorTip","\u539F\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","old","placeholder",""],["nzRequired","","nzFor","new",3,"nzSm","nzXs"],["nzErrorTip","\u65B0\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","new"],["nzRequired","","nzFor","repeat",3,"nzSm","nzXs"],["nzErrorTip","\u8BF7\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","repeat"]],template:function(e,t){e&1&&(s(0,"form",0),x("ngSubmit",function(){return t.submit()}),s(1,"nz-form-item")(2,"nz-form-label",1),l(3,"\u539F\u5BC6\u7801"),u(),s(4,"nz-form-control",2),f(5,"input",3),u()(),s(6,"nz-form-item")(7,"nz-form-label",4),l(8,"\u65B0\u5BC6\u7801"),u(),s(9,"nz-form-control",5),f(10,"input",6),u()(),s(11,"nz-form-item")(12,"nz-form-label",7),l(13,"\u91CD\u590D\u5BC6\u7801"),u(),s(14,"nz-form-control",8),f(15,"input",9),u()()()),e&2&&(c("formGroup",t.group),m(2),c("nzSm",6)("nzXs",24),m(2),c("nzSm",14)("nzXs",24),m(3),c("nzSm",6)("nzXs",24),m(2),c("nzSm",14)("nzXs",24),m(3),c("nzSm",6)("nzXs",24),m(2),c("nzSm",14)("nzXs",24))},dependencies:[M,Ze,J,$,K,Q,Ke,Z,G,H,U,q,k,W,X]});let a=o;return a})();var Mt=a=>({url:a});function Tt(a,o){if(a&1&&(s(0,"li",46),l(1),u()),a&2){let r=o.$implicit;c("queryParams",ue(2,Mt,r.url)),m(1),_(r.name)}}function Lt(a,o){if(a&1&&(s(0,"li",44)(1,"ul"),z(2,Tt,2,4,"li",45),u()()),a&2){let r=se().$implicit;c("nzTitle",r.name),m(2),c("ngForOf",r.items)}}function jt(a,o){if(a&1&&(oe(0),z(1,Lt,3,2,"li",43),ae()),a&2){let r=o.$implicit;m(1),c("ngIf",r.first)}}function Ut(a,o){if(a&1&&(s(0,"li",46),l(1),u()),a&2){let r=o.$implicit;c("queryParams",ue(2,Mt,r.url)),m(1),_(r.name)}}function qt(a,o){if(a&1&&(s(0,"li",44)(1,"ul"),z(2,Ut,2,4,"li",45),u()()),a&2){let r=se().$implicit;c("nzTitle",r.name),m(2),c("ngForOf",r.items)}}function kt(a,o){if(a&1&&(oe(0),z(1,qt,3,2,"li",43),ae()),a&2){let r=o.$implicit;m(1),c("ngIf",!r.first)}}var At=(()=>{let o=class o{constructor(n,e,t,i,p){this.router=n,this.ms=e,this.us=t,this.rs=i,this.os=p,this.isVisible=!1,this.admin=!1,this.menus=[],i.get("user/me").subscribe(y=>{y?.data?.admin&&(this.admin=!0)},y=>{}).add(()=>{}),this.loadMenu()}loadMenu(){this.rs.get("plugin/menus").subscribe(n=>{this.menus=n.data})}handlePassword(){let n=this.ms.create({nzTitle:"\u4FEE\u6539\u5BC6\u7801",nzCentered:!0,nzMaskClosable:!1,nzContent:Ft,nzFooter:[{label:"\u53D6\u6D88",onClick:()=>{n.destroy()}},{label:"\u4FDD\u5B58",type:"primary",onClick:e=>{e.submit().then(()=>{n.destroy()},()=>{})}}]})}handleExit(){this.rs.get("/logout").subscribe(()=>{this.us.setUser(void 0)}),this.router.navigateByUrl("/login")}};o.\u0275fac=function(e){return new(e||o)(d(C),d(lt),d(I),d(v),d(ne))},o.\u0275cmp=g({type:o,selectors:[["app-admin"]],standalone:!0,features:[b],decls:78,vars:5,consts:[[2,"height","100%"],[1,"logo"],["alt","logo",3,"src"],[1,"title"],[1,"space"],["nz-menu","","nzTheme","dark","nzMode","horizontal",1,"user"],["nz-menu-item","","nzMatchRouter",""],["routerLink","alarm"],["nz-icon","","nzType","bell"],["nz-submenu","","nzIcon","user",3,"nzTitle"],["nz-menu-item","","nzSelected","false",3,"click"],["nz-menu-divider",""],["nz-menu-item","","nzSelected","false","nzDanger","",3,"click"],["nzWidth","200px"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"menu"],[4,"ngFor","ngForOf"],["nz-submenu","","nzIcon","apartment","nzTitle","\u9879\u76EE\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","project"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","project/create"],["nz-submenu","","nzIcon","appstore","nzTitle","\u7A7A\u95F4\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","space"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","space/create"],["nz-submenu","","nzIcon","block","nzTitle","\u8BBE\u5907\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","device"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","device/create"],["nz-submenu","","nzIcon","link","nzTitle","\u7F51\u5173\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","gateway"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","gateway/create"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","gateway/batch","nzDisabled",""],["nz-submenu","","nzIcon","profile","nzTitle","\u4EA7\u54C1\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","product"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","product/create"],["nz-submenu","","nzIcon","user","nzTitle","\u7528\u6237\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","user"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","user/create"],["nz-submenu","","nzIcon","setting","nzTitle","\u7CFB\u7EDF\u8BBE\u7F6E"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/web"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/database"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/broker"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/mqtt"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/log"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","setting/attach"],[1,"content"],["nz-submenu","","nzIcon","appstore-add",3,"nzTitle",4,"ngIf"],["nz-submenu","","nzIcon","appstore-add",3,"nzTitle"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","web",3,"queryParams",4,"ngFor","ngForOf"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","web",3,"queryParams"]],template:function(e,t){e&1&&(s(0,"nz-layout",0)(1,"nz-header")(2,"div",1),f(3,"img",2),u(),s(4,"div",3),l(5),u(),f(6,"div",4),s(7,"ul",5)(8,"li",6)(9,"a",7),f(10,"span",8),l(11," \u901A\u77E5 "),u()(),s(12,"li",9)(13,"ul")(14,"li",10),x("click",function(){return t.handlePassword()}),l(15,"\u4FEE\u6539\u5BC6\u7801"),u(),f(16,"li",11),s(17,"li",12),x("click",function(){return t.handleExit()}),l(18,"\u9000\u51FA"),u()()()()(),s(19,"nz-layout")(20,"nz-sider",13)(21,"ul",14),z(22,jt,2,1,"ng-container",15),s(23,"li",16)(24,"ul")(25,"li",17),l(26,"\u6240\u6709\u9879\u76EE"),u(),s(27,"li",18),l(28,"\u521B\u5EFA\u9879\u76EE"),u()()(),s(29,"li",19)(30,"ul")(31,"li",20),l(32,"\u6240\u6709\u7A7A\u95F4"),u(),s(33,"li",21),l(34,"\u521B\u5EFA\u7A7A\u95F4"),u()()(),s(35,"li",22)(36,"ul")(37,"li",23),l(38,"\u6240\u6709\u8BBE\u5907"),u(),s(39,"li",24),l(40,"\u521B\u5EFA\u8BBE\u5907"),u()()(),s(41,"li",25)(42,"ul")(43,"li",26),l(44,"\u6240\u6709\u7F51\u5173"),u(),s(45,"li",27),l(46,"\u521B\u5EFA\u7F51\u5173"),u(),s(47,"li",28),l(48,"\u6279\u91CF\u521B\u5EFA"),u()()(),s(49,"li",29)(50,"ul")(51,"li",30),l(52,"\u6240\u6709\u4EA7\u54C1"),u(),s(53,"li",31),l(54,"\u521B\u5EFA\u4EA7\u54C1"),u()()(),s(55,"li",32)(56,"ul")(57,"li",33),l(58,"\u6240\u6709\u7528\u6237"),u(),s(59,"li",34),l(60,"\u521B\u5EFA\u7528\u6237"),u()()(),z(61,kt,2,1,"ng-container",15),s(62,"li",35)(63,"ul")(64,"li",36),l(65,"Web\u670D\u52A1"),u(),s(66,"li",37),l(67,"\u6570\u636E\u5E93"),u(),s(68,"li",38),l(69,"MQTT\u603B\u7EBF"),u(),s(70,"li",39),l(71,"MQTT\u8FDE\u63A5"),u(),s(72,"li",40),l(73,"\u7CFB\u7EDF\u65E5\u5FD7"),u(),s(74,"li",41),l(75,"\u9644\u4EF6\u7BA1\u7406"),u()()()()(),s(76,"nz-content",42),f(77,"router-outlet"),u()()()),e&2&&(m(3),c("src",t.os.oem.logo||"assets/infinite.svg",fe),m(2),he(" ",t.os.oem.name||"\u7269\u8054\u5927\u5E08"," "),m(7),c("nzTitle",t.us.user.name||t.us.user.id||"\u65E0\u540D"),m(10),c("ngForOf",t.menus),m(39),c("ngForOf",t.menus))},dependencies:[T,O,ve,F,L,mt,ut,at,ot,Y,it,rt,tt,j,nt,st],styles:["nz-header[_ngcontent-%COMP%]{display:flex;overflow:hidden;color:#fff;padding:0 10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;padding:0 10px}.space[_ngcontent-%COMP%]{flex:1}.nav2[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;margin:0 4px}nz-sider[_ngcontent-%COMP%]{overflow-y:auto}.menu[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{padding:10px;min-height:400px;overflow:auto}"]});let a=o;return a})();function Ht(a,o){a&1&&(s(0,"a",2),l(1,"\u8FD4\u56DE\u9996\u9875"),u())}var me=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=g({type:o,selectors:[["app-unknown"]],standalone:!0,features:[b],decls:3,vars:1,consts:[["nzNotFoundContent","\u672A\u77E5\u9875\u9762",3,"nzNotFoundFooter"],["footer",""],["nz-button","","nzType","primary","routerLink","/admin"]],template:function(e,t){if(e&1&&(f(0,"nz-empty",0),z(1,Ht,2,0,"ng-template",null,1,R)),e&2){let i=P(2);c("nzNotFoundFooter",i)}},dependencies:[j,ct,A],styles:["[_nghost-%COMP%]{padding-top:10vh}"]});let a=o;return a})();function Wt(a,o){a&1&&(s(0,"button",8),f(1,"span",9),l(2," \u5237\u65B0 "),u())}function Xt(a,o){a&1&&(s(0,"button",14),l(1,"\u641C\u7D22"),u())}function Vt(a,o){if(a&1&&(s(0,"div",10)(1,"nz-input-group",11),f(2,"input",12),u(),z(3,Xt,2,0,"ng-template",null,13,R),u()),a&2){let r=P(4);m(1),c("nzAddOnAfter",r)}}function Gt(a,o){a&1&&(s(0,"a",17),f(1,"i",18),u())}function $t(a,o){if(a&1&&(s(0,"tr")(1,"td"),l(2),u(),s(3,"td"),l(4),u(),s(5,"td"),l(6),u(),s(7,"td"),l(8),u(),s(9,"td"),l(10),u(),s(11,"td",15),l(12),ze(13,"date"),u(),s(14,"td")(15,"nz-space"),z(16,Gt,2,0,"a",16),u()()()),a&2){let r=o.$implicit;m(2),_(r.project),m(2),_(r.device),m(2),_(r.level),m(2),_(r.title),m(2),_(r.message),m(1),c("title",r.created),m(1),_(ge(13,7,r.created))}}var It=(()=>{let o=class o{ngOnInit(){this.load()}constructor(n,e,t){this.route=n,this.rs=e,this.msg=t,this.total=0,this.nzPageIndex=1,this.nzPageSize=10,this.value="",this.alarms=[]}load(){let n;n={limit:this.nzPageSize,skip:(this.nzPageIndex-1)*this.nzPageSize},this.value&&(n=de(pe({},n),{filter:{name:this.value}})),this.rs.get("alarm/list",n).subscribe(e=>{this.alarms=e.data,this.total=e.total},e=>{console.log("err:",e)})}nzPageSizeChange(n){this.nzPageSize=n,this.load()}nzPageIndexChange(n){this.nzPageIndex=n,this.load()}};o.\u0275fac=function(e){return new(e||o)(d(C),d(v),d(te))},o.\u0275cmp=g({type:o,selectors:[["app-alarm"]],standalone:!0,features:[b],decls:26,vars:6,consts:[[1,"toolbar"],["nz-button","","nzType","primary",4,"nzSpaceItem"],["class","search",4,"nzSpaceItem"],[3,"nzData","nzFrontPagination"],["table",""],[4,"ngFor","ngForOf"],[1,"pages"],["nzShowSizeChanger","","nzShowQuickJumper","",3,"nzPageIndex","nzPageSize","nzTotal","nzPageIndexChange","nzPageSizeChange"],["nz-button","","nzType","primary"],["nz-icon","","nzType","reload"],[1,"search"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","\u8BF7\u8F93\u5165\u5173\u952E\u5B57"],["suffixButton",""],["nz-button","","nzType","primary","nzSearch",""],[3,"title"],["title","\u5220\u9664","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u89E3\u7ED1",4,"nzSpaceItem"],["title","\u5220\u9664","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u89E3\u7ED1"],["nz-icon","","nzType","delete"]],template:function(e,t){if(e&1&&(s(0,"div",0)(1,"nz-space"),z(2,Wt,3,0,"button",1)(3,Vt,5,1,"div",2),u()(),s(4,"nz-table",3,4)(6,"thead")(7,"tr")(8,"th"),l(9,"\u9879\u76EE"),u(),s(10,"th"),l(11,"\u8BBE\u5907"),u(),s(12,"th"),l(13,"\u7B49\u7EA7"),u(),s(14,"th"),l(15,"\u6807\u9898"),u(),s(16,"th"),l(17,"\u5185\u5BB9"),u(),s(18,"th"),l(19,"\u521B\u5EFA\u65F6\u95F4"),u(),s(20,"th"),l(21,"\u64CD\u4F5C"),u()()(),s(22,"tbody"),z(23,$t,17,9,"tr",5),u()(),s(24,"div",6)(25,"nz-pagination",7),x("nzPageIndexChange",function(p){return t.nzPageIndexChange(p)})("nzPageSizeChange",function(p){return t.nzPageSizeChange(p)}),u()()),e&2){let i=P(5);m(4),c("nzData",t.alarms)("nzFrontPagination",!1),m(19),c("ngForOf",i.data),m(2),c("nzPageIndex",t.nzPageIndex)("nzPageSize",t.nzPageSize)("nzTotal",t.total)}},dependencies:[Ce,O,A,Y,M,ee,pt,dt,ht,zt,_t,bt,gt,Ct,vt,ft],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0;display:flex}.toolbar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{flex:1}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]});let a=o;return a})();var wt=()=>{let a=ie(I),o=ie(C);if(a.user)return console.log("auth ok"),!0;if(a.getting){console.log("auth getting");let r=new N;return a.userSub.subscribe(n=>{console.log("auth getting ok"),r.next(!0)},n=>{r.next(o.parseUrl("/login"))}),r.asObservable()}return o.parseUrl("/login")};var Pt=[{path:"",pathMatch:"full",redirectTo:"admin"},{path:"login",component:yt},{canActivate:[wt],path:"admin",component:At,children:[{path:"",pathMatch:"full",redirectTo:"project"},{path:"dash",loadChildren:()=>import("./chunk-EV44W2YE.js").then(a=>a.DashModule)},{path:"product",loadChildren:()=>import("./chunk-PLO3JW7P.js").then(a=>a.ProductModule)},{path:"device",loadChildren:()=>import("./chunk-HYXQN6DU.js").then(a=>a.DeviceModule)},{path:"gateway",loadChildren:()=>import("./chunk-HIPV63T4.js").then(a=>a.GatewayModule)},{path:"project",loadChildren:()=>import("./chunk-7YOAGXD2.js").then(a=>a.ProjectModule)},{path:"space",loadChildren:()=>import("./chunk-4G7LEJBN.js").then(a=>a.SpaceModule)},{path:"plugin",loadChildren:()=>import("./chunk-7HHZWXPZ.js").then(a=>a.PluginModule)},{path:"user",loadChildren:()=>import("./chunk-7VMIP3LI.js").then(a=>a.UserModule)},{path:"setting",loadChildren:()=>import("./chunk-I37CDI6G.js").then(a=>a.SettingModule)},{path:"web",component:xt},{path:"alarm",component:It},{path:"**",component:me}]},{path:"**",component:me}];function Jt(a){let o=a;return 5}var Dt=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",Jt];be(Dt);var Yt=[Be,ke,we,Xe,Te,Pe,De,Fe,Me,Ne,Re,Ve,Ge,He,Ue,We,Ae,Ie,je,qe,Le,Oe],Nt={providers:[ye(Pt),Ye(Je),re(F),re(xe),Qe(),{provide:$e,useValue:Yt},{provide:_e,useValue:"zh_CN"}]};var Bt=(()=>{let o=class o{constructor(){this.title="Web UI"}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=g({type:o,selectors:[["app-root"]],standalone:!0,features:[b],decls:1,vars:0,template:function(e,t){e&1&&f(0,"router-outlet")},dependencies:[T,L],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let a=o;return a})();Se(Bt,Nt).catch(a=>console.error(a));
