import{a as we}from"./chunk-O5VM4YCW.js";import{a as Te}from"./chunk-QBVGC53F.js";import"./chunk-B4M7IYJ2.js";import{c as ye,e as _e,f as xe,g as Ee,h as De,i as Fe}from"./chunk-EXT7S62Z.js";import{a as Ne,b as Ie}from"./chunk-BE4ZTW6G.js";import{a as M,b as A,c as be,d as O,e as X}from"./chunk-IT2U3YUS.js";import{Ba as de,Pb as he,Rb as ge,T as le,Tb as G,U as ue,Ub as P,ab as ce,bb as se,c as te,cb as ze,d as $,db as fe,e as ne,eb as Se,f as ie,h as re,j as oe,lb as I,m as ae,n as N,nb as ve,o as me,ob as Ce,p as pe,tb as T,vb as w,xb as B}from"./chunk-FZUU2ZSO.js";import{Ca as r,Da as s,Kb as K,La as p,Lb as W,Sa as z,Sb as Y,Ta as e,Tb as Z,Ua as t,Va as d,Wa as U,Xa as J,Z as y,Za as g,ba as _,bb as v,ca as x,db as f,fc as F,ga as C,gb as V,ha as h,hb as a,hc as b,ib as c,ic as ee,jb as Q,kc as H,lb as E,qb as k,rb as R,yb as D}from"./chunk-Q2QJEMPV.js";function Xe(n,i){if(n&1){let u=g();e(0,"button",16),v("click",function(){C(u);let m=f();return h(m.onSubmit())}),a(1,"\u4FDD\u5B58"),t()}}function je(n,i){n&1&&(U(0),a(1,"\u8BF7\u8F93\u5165\u540D\u79F0!"),J())}function Ve(n,i){if(n&1&&z(0,je,2,0,"ng-container",17),n&2){let u=i.$implicit;p("ngIf",u.hasError("required"))}}var q=(()=>{let i=class i{constructor(o,m,l,S,j){this.fb=o,this.router=m,this.msg=l,this.rs=S,this.route=j,this.data={name:"\u65B0\u7F51\u5173"},this.buildFromGroup()}buildFromGroup(o){o=o||{},this.formGroup=this.fb.group({id:[o.id||"",[]],name:[o.name||"",[]],description:[o.description||"",[]],username:[o.username||"",[$.required]],password:[o.password||"",[$.required]]})}ngOnInit(){if(this.route.snapshot.paramMap.has("id")){this.id=this.route.snapshot.paramMap.get("id"),this.load();return}this.buildFromGroup()}load(){this.rs.get(`gateway/${this.id}`,{}).subscribe(o=>{this.buildFromGroup(o.data)},o=>{console.log("err:",o)})}onSubmit(){if(this.formGroup.valid){let o=this.id?`gateway/${this.id}`:"gateway/create";this.rs.post(o,this.formGroup.value).subscribe(m=>{this.router.navigateByUrl("admin/gateway"),this.msg.success("\u4FDD\u5B58\u6210\u529F")});return}else Object.values(this.formGroup.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}onIconChange(o){}};i.\u0275fac=function(m){return new(m||i)(s(N),s(b),s(w),s(B),s(F))},i.\u0275cmp=_({type:i,selectors:[["app-gateway-edit"]],standalone:!0,features:[E],decls:37,vars:24,consts:[["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","id",3,"nzSm","nzXs"],["nzErrorTip","",3,"nzSm","nzXs"],["nz-input","","formControlName","id","placeholder","\u9009\u586B\uFF0C\u9ED8\u8BA4\u968F\u673A"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nz-input","","formControlName","name"],["nzFor","username",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","formControlName","username","placeholder","\u8BF7\u8F93\u5165\u7528\u6237\u540D"],["nameErrorTpl",""],["nzFor","password",3,"nzSm","nzXs"],["nz-input","","formControlName","password","placeholder","\u8BF7\u8F93\u5165\u5BC6\u7801"],["nzFor","description",3,"nzSm","nzXs"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","","formControlName","description"],["nz-button","","nzType","primary",3,"click"],[4,"ngIf"]],template:function(m,l){m&1&&(e(0,"nz-page-header")(1,"nz-page-header-title"),a(2),t(),e(3,"nz-page-header-subtitle"),a(4),t(),e(5,"nz-page-header-extra")(6,"nz-space"),z(7,Xe,2,0,"button",0),t()()(),e(8,"form",1),v("ngSubmit",function(){return l.onSubmit()}),e(9,"nz-form-item")(10,"nz-form-label",2),a(11,"ID"),t(),e(12,"nz-form-control",3),d(13,"input",4),t()(),e(14,"nz-form-item")(15,"nz-form-label",5),a(16,"\u540D\u79F0"),t(),e(17,"nz-form-control",3),d(18,"input",6),t()(),e(19,"nz-form-item")(20,"nz-form-label",7),a(21,"\u7528\u6237\u540D"),t(),e(22,"nz-form-control",8),d(23,"input",9),z(24,Ve,1,1,"ng-template",null,10,D),t()(),e(26,"nz-form-item")(27,"nz-form-label",11),a(28,"\u5BC6\u7801"),t(),e(29,"nz-form-control",3),d(30,"input",12),t()(),e(31,"nz-form-item")(32,"nz-form-label",13),a(33,"\u8BF4\u660E"),t(),e(34,"nz-form-control",3)(35,"nz-textarea-count",14),d(36,"textarea",15),t()()()()),m&2&&(r(2),Q("\u7F51\u5173",l.id?"\u7F16\u8F91":"\u521B\u5EFA",""),r(2),c(l.data.name),r(4),p("formGroup",l.formGroup),r(2),p("nzSm",6)("nzXs",24),r(2),p("nzSm",14)("nzXs",24),r(3),p("nzSm",6)("nzXs",24),r(2),p("nzSm",14)("nzXs",24),r(3),p("nzSm",6)("nzXs",24),r(2),p("nzSm",14)("nzXs",24),r(5),p("nzSm",6)("nzXs",24),r(2),p("nzSm",14)("nzXs",24),r(3),p("nzSm",6)("nzXs",24),r(2),p("nzSm",14)("nzXs",24),r(1),p("nzMaxCharacterCount",200))},dependencies:[T,X,O,A,M,P,G,me,re,te,ne,ie,pe,oe,ae,Se,ue,le,se,ce,fe,ze,I,Ce,W]});let n=i;return n})();function ke(n,i){n&1&&(e(0,"button",19),a(1,"\u7F16\u8F91"),t())}function Re(n,i){if(n&1){let u=g();e(0,"button",20),v("nzOnConfirm",function(){C(u);let m=f();return h(m.delete(m.id))}),a(1,"\u5220\u9664"),t()}}function He(n,i){n&1&&(e(0,"button",21),d(1,"span",22),a(2," \u5237\u65B0 "),t())}function $e(n,i){n&1&&(e(0,"button",27),a(1,"\u641C\u7D22"),t())}function Le(n,i){if(n&1&&(e(0,"div",23)(1,"nz-input-group",24),d(2,"input",25),t(),z(3,$e,2,0,"ng-template",null,26,D),t()),n&2){let u=V(4);r(1),p("nzAddOnAfter",u)}}function qe(n,i){n&1&&(e(0,"div")(1,"button",28),d(2,"span",29),a(3," \u6DFB\u52A0\u8BBE\u5907 "),t()())}function Ue(n,i){if(n&1&&(e(0,"a",34),d(1,"i",35),t()),n&2){let u=f().$implicit;p("routerLink","/admin/device/"+u.id)}}function Je(n,i){n&1&&(e(0,"a",36),d(1,"i",37),t())}function Qe(n,i){if(n&1){let u=g();e(0,"a",38),v("nzOnConfirm",function(){C(u);let m=f().$implicit,l=f();return h(l.unbind(m.id))}),d(1,"i",39),t()}}function Ke(n,i){if(n&1&&(e(0,"tr")(1,"td"),a(2),t(),e(3,"td"),a(4),t(),e(5,"td"),a(6),t(),e(7,"td",30),a(8),k(9,"date"),t(),e(10,"td")(11,"nz-space"),z(12,Ue,2,1,"a",31)(13,Je,2,0,"a",32)(14,Qe,2,0,"a",33),t()()()),n&2){let u=i.$implicit;r(2),c(u.id),r(2),c(u.name),r(2),c(u.product),r(1),p("title",u.online),r(1),c(R(9,5,u.online))}}var Be=(()=>{let i=class i{constructor(o,m,l,S,j){this.fb=o,this.router=m,this.msg=l,this.rs=S,this.route=j,this.gateway={},this.data={},this.devices=[{id:1,name:"1\u53F7",product:"\u6E29\u5EA6\u8BA1",online:new Date},{id:2,name:"2\u53F7",product:"\u6E29\u5EA6\u8BA1",online:new Date},{id:3,name:"3\u53F7",product:"\u6E29\u5EA6\u8BA1",online:new Date},{id:4,name:"4\u53F7",product:"\u6E29\u5EA6\u8BA1",online:new Date}]}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get(`gateway/${this.id}`,{}).subscribe(o=>{this.data=o.data},o=>{console.log("err:",o)})}delete(o){this.rs.get(`gateway/${o}/delete`,{}).subscribe(m=>{this.msg.success("\u5220\u9664\u6210\u529F"),this.router.navigateByUrl("admin/gateway")},m=>{console.log("err:",m)})}unbind(o){}};i.\u0275fac=function(m){return new(m||i)(s(N),s(b),s(w),s(B),s(F))},i.\u0275cmp=_({type:i,selectors:[["app-gateway-detail"]],standalone:!0,features:[E],decls:47,vars:22,consts:[["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nzSize","small",3,"nzColumn"],["nzTitle","ID",3,"nzSpan"],["nzTitle","\u540D\u79F0",3,"nzSpan"],["nzTitle","\u7528\u6237\u540D",3,"nzSpan"],["nzTitle","\u5BC6\u7801",3,"nzSpan"],["nzTitle","\u521B\u5EFA\u65F6\u95F4",3,"nzSpan"],["nzTitle","\u8BF4\u660E",3,"nzSpan"],["nzText","\u8BBE\u5907\u5217\u8868","nzOrientation","left"],[1,"toolbar"],["nz-button","","nzType","primary",4,"nzSpaceItem"],["class","search",4,"nzSpaceItem"],[4,"nzSpaceItem"],[3,"nzData","nzFrontPagination"],["table",""],[4,"ngFor","ngForOf"],[1,"pages"],["nzShowSizeChanger","","nzShowQuickJumper","",3,"nzPageIndex","nzPageSize","nzTotal"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u5220\u9664",3,"nzOnConfirm"],["nz-button","","nzType","primary"],["nz-icon","","nzType","reload"],[1,"search"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","\u8BF7\u8F93\u5165\u5173\u952E\u5B57"],["suffixButton",""],["nz-button","","nzType","primary","nzSearch",""],["nz-button","","nzType","primary","nzShape","round"],["nz-icon","","nzType","plus"],[3,"title"],["title","\u6253\u5F00",3,"routerLink",4,"nzSpaceItem"],["title","\u7F16\u8F91",4,"nzSpaceItem"],["title","\u5220\u9664","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["title","\u6253\u5F00",3,"routerLink"],["nz-icon","","nzType","eye"],["title","\u7F16\u8F91"],["nz-icon","","nzType","edit"],["title","\u5220\u9664","nz-popconfirm","","nzPopconfirmTitle","\u786E\u8BA4\u5220\u9664",3,"nzOnConfirm"],["nz-icon","","nzType","disconnect"]],template:function(m,l){if(m&1&&(e(0,"nz-page-header")(1,"nz-page-header-title"),a(2,"\u7F51\u5173\u8BE6\u60C5"),t(),e(3,"nz-page-header-subtitle"),a(4),t(),e(5,"nz-page-header-extra")(6,"nz-space"),z(7,ke,2,0,"button",0)(8,Re,2,0,"button",1),t()(),e(9,"nz-page-header-content")(10,"nz-descriptions",2)(11,"nz-descriptions-item",3),a(12),t(),e(13,"nz-descriptions-item",4),a(14),t(),e(15,"nz-descriptions-item",5),a(16),t(),e(17,"nz-descriptions-item",6),a(18),t(),e(19,"nz-descriptions-item",7),a(20),k(21,"date"),t(),e(22,"nz-descriptions-item",8),a(23),t()()()(),d(24,"nz-divider",9),e(25,"nz-space",10),z(26,He,3,0,"button",11)(27,Le,5,1,"div",12)(28,qe,4,0,"div",13),t(),e(29,"nz-table",14,15)(31,"thead")(32,"tr")(33,"th"),a(34,"ID"),t(),e(35,"th"),a(36,"\u540D\u79F0"),t(),e(37,"th"),a(38,"\u4EA7\u54C1"),t(),e(39,"th"),a(40,"\u4E0A\u7EBF\u65F6\u95F4"),t(),e(41,"th"),a(42,"\u64CD\u4F5C"),t()()(),e(43,"tbody"),z(44,Ke,15,7,"tr",16),t()(),e(45,"div",17),d(46,"nz-pagination",18),t()),m&2){let S=V(30);r(4),c(l.data.name),r(6),p("nzColumn",3),r(1),p("nzSpan",1),r(1),c(l.data.id),r(1),p("nzSpan",1),r(1),c(l.data.name),r(1),p("nzSpan",1),r(1),c(l.data.username),r(1),p("nzSpan",1),r(1),c(l.data.password),r(1),p("nzSpan",1),r(1),c(R(21,20,l.data.created)),r(2),p("nzSpan",2),r(1),c(l.data.description),r(6),p("nzData",l.devices)("nzFrontPagination",!1),r(15),p("ngForOf",S.data),r(2),p("nzPageIndex",3)("nzPageSize",10)("nzTotal",20)}},dependencies:[X,M,A,be,O,P,G,T,Ie,Ne,Y,ee,ge,K,de,I,ve,he,ye,xe,Ee,_e,Fe,De,Te],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]});let n=i;return n})();var We=[{path:"",component:we},{path:"create",component:q},{path:":id",component:Be},{path:":id/edit",component:q}],Ge=(()=>{let i=class i{};i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=x({type:i}),i.\u0275inj=y({imports:[H.forChild(We),H]});let n=i;return n})();var Bt=(()=>{let i=class i{};i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=x({type:i}),i.\u0275inj=y({imports:[Z,Ge]});let n=i;return n})();export{Bt as GatewayModule};
