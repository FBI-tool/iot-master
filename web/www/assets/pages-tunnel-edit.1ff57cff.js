import{q as a,o as e,c as l,w as d,a as t,g as o,b as u,r as n,e as s,f as i,d as r}from"./index.8d4a8305.js";import{b as m,_ as p,a as c}from"./uni-forms.3c0cbf84.js";import{_ as f}from"./uni-section.96f3ba19.js";import{r as V}from"./const.9e5d4232.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.51822eb1.js";var b=_({data:()=>({id:"",data:{name:"",type:"",addr:"",protocol:{name:""},serial:{port:"",baud_rate:9600,data_bits:8,stop_bits:1,party:0}}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{load(){V({url:"tunnel/"+this.id,success:a=>{this.data=a}})},save(){a("log","at pages/tunnel/edit.vue:81",this.id),uni.showLoading({}),V({url:"tunnel/"+(this.id||"create"),method:"POST",data:this.data,success(){uni.navigateBack()},complete(){uni.hideLoading()}})}}},[["render",function(a,V,_,b,h,y){const O=n(s("uni-easyinput"),m),U=n(s("uni-forms-item"),p),v=n(s("uni-section"),f),g=n(s("uni-forms"),c),T=i,j=r;return e(),l(j,{class:"p20"},{default:d((()=>[t(g,null,{default:d((()=>[t(U,{label:"名称",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.name,"onUpdate:modelValue":V[0]||(V[0]=a=>h.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),t(U,{label:"类型",name:"type"},{default:d((()=>[t(O,{modelValue:h.data.type,"onUpdate:modelValue":V[1]||(V[1]=a=>h.data.type=a),placeholder:"serial,tcp-client,udp-client,tcp-server,udp-server"},null,8,["modelValue"])])),_:1}),t(U,{label:"地址",name:"addr"},{default:d((()=>[t(O,{modelValue:h.data.addr,"onUpdate:modelValue":V[2]||(V[2]=a=>h.data.addr=a),placeholder:""},null,8,["modelValue"])])),_:1}),"serial"==h.data.type?(e(),l(v,{key:0,title:"串口参数",type:"line"},{default:d((()=>[t(U,{label:"串口",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.serial.port,"onUpdate:modelValue":V[3]||(V[3]=a=>h.data.serial.port=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),t(U,{label:"波特率",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.serial.baud_rate,"onUpdate:modelValue":V[4]||(V[4]=a=>h.data.serial.baud_rate=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),t(U,{label:"字长",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.serial.data_bits,"onUpdate:modelValue":V[5]||(V[5]=a=>h.data.serial.data_bits=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),t(U,{label:"停止位",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.serial.stop_bits,"onUpdate:modelValue":V[6]||(V[6]=a=>h.data.serial.stop_bits=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),t(U,{label:"校验",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.serial.party,"onUpdate:modelValue":V[7]||(V[7]=a=>h.data.serial.party=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1})):o("",!0),t(v,{title:"协议",type:"line"},{default:d((()=>[t(U,{label:"名称",name:"name"},{default:d((()=>[t(O,{modelValue:h.data.protocol.name,"onUpdate:modelValue":V[8]||(V[8]=a=>h.data.protocol.name=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),t(T,{type:"primary",onClick:y.save},{default:d((()=>[u("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{b as default};
