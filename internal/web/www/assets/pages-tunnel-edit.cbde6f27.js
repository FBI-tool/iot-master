import{v as a,K as e,N as l,L as t,o as d,c as o,w as s,a as u,g as n,b as r,r as m,e as i,f as p,d as c}from"./index.e4ec1751.js";import{b as f,_ as V,a as _}from"./uni-forms.0ce0679e.js";import{_ as b}from"./uni-section.4394fab0.js";import{r as h}from"./const.d9b9d0f3.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.fc70ceff.js";var O=y({data:()=>({id:"",data:{name:"",type:"",addr:"",protocol:{name:""},serial:{port:"",baud_rate:9600,data_bits:8,stop_bits:1,party:0}}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{load(){h({url:"tunnel/"+this.id,success:a=>{this.data=a}})},save(){a("log","at pages/tunnel/edit.vue:81",this.id),e({}),h({url:"tunnel/"+(this.id||"create"),method:"POST",data:this.data,success(){l()},complete(){t()}})}}},[["render",function(a,e,l,t,h,y){const O=m(i("uni-easyinput"),f),U=m(i("uni-forms-item"),V),v=m(i("uni-section"),b),T=m(i("uni-forms"),_),j=p,D=c;return d(),o(D,{class:"p20"},{default:s((()=>[u(T,null,{default:s((()=>[u(U,{label:"名称",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.name,"onUpdate:modelValue":e[0]||(e[0]=a=>h.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),u(U,{label:"类型",name:"type"},{default:s((()=>[u(O,{modelValue:h.data.type,"onUpdate:modelValue":e[1]||(e[1]=a=>h.data.type=a),placeholder:"serial,tcp-client,udp-client,tcp-server,udp-server"},null,8,["modelValue"])])),_:1}),u(U,{label:"地址",name:"addr"},{default:s((()=>[u(O,{modelValue:h.data.addr,"onUpdate:modelValue":e[2]||(e[2]=a=>h.data.addr=a),placeholder:""},null,8,["modelValue"])])),_:1}),"serial"==h.data.type?(d(),o(v,{key:0,title:"串口参数",type:"line"},{default:s((()=>[u(U,{label:"串口",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.serial.port,"onUpdate:modelValue":e[3]||(e[3]=a=>h.data.serial.port=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),u(U,{label:"波特率",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.serial.baud_rate,"onUpdate:modelValue":e[4]||(e[4]=a=>h.data.serial.baud_rate=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),u(U,{label:"字长",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.serial.data_bits,"onUpdate:modelValue":e[5]||(e[5]=a=>h.data.serial.data_bits=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),u(U,{label:"停止位",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.serial.stop_bits,"onUpdate:modelValue":e[6]||(e[6]=a=>h.data.serial.stop_bits=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1}),u(U,{label:"校验",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.serial.party,"onUpdate:modelValue":e[7]||(e[7]=a=>h.data.serial.party=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1})):n("",!0),u(v,{title:"协议",type:"line"},{default:s((()=>[u(U,{label:"名称",name:"name"},{default:s((()=>[u(O,{modelValue:h.data.protocol.name,"onUpdate:modelValue":e[8]||(e[8]=a=>h.data.protocol.name=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(j,{type:"primary",onClick:y.save},{default:s((()=>[r("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{O as default};
