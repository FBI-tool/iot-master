import{K as e,L as t,M as a,B as s,N as i,o,c as d,w as l,a as n,j as r,C as c,F as u,r as m,e as h,d as p,i as f}from"./index.e4ec1751.js";import{_ as k,a as w}from"./uni-fab.fe36759d.js";import{_,a as y}from"./uni-list.8901d81d.js";import{r as C}from"./const.d9b9d0f3.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.fc70ceff.js";var j=b({data:()=>({keyword:"",limit:20,datum:[]}),onPullDownRefresh(){this.datum=[],this.skip=0},onReachBottom(){this.load()},onLoad(e){this.selecting=!!e.select,this.load()},methods:{load(){e({}),C({url:"product/search",method:"POST",data:{skip:this.datum.length,limit:this.limit,keyword:this.keyword?{id:this.keyword,name:this.keyword}:{}},success:e=>{this.datum=this.datum.concat(e)},complete(){t(),a()}})},onSearch(){this.datum=[],this.load()},create(){s({url:"./edit"})},open(e){if(this.selecting)return this.getOpenerEventChannel().emit("select",e.id),void i();s({url:"./detail?id="+e.id})}}},[["render",function(e,t,a,s,i,C){const b=m(h("uni-search-bar"),k),j=m(h("uni-fab"),w),g=f,v=m(h("uni-list-item"),_),F=m(h("uni-list"),y),x=p;return o(),d(x,null,{default:l((()=>[n(b,{onConfirm:C.onSearch,onInput:t[0]||(t[0]=()=>{}),placeholder:"ID 名称",modelValue:i.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>i.keyword=e)},null,8,["onConfirm","modelValue"]),n(j,{onFabClick:C.create},null,8,["onFabClick"]),n(F,null,{default:l((()=>[(o(!0),r(u,null,c(i.datum,((e,t)=>(o(),d(v,{key:t,title:e.name,note:e.id,link:"",onClick:t=>C.open(e),clickable:!0},{header:l((()=>[n(g,{class:"icon",src:"/assets/product.75f35e33.svg",mode:"aspectFit"})])),_:2},1032,["title","note","onClick"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-f4cecde8"]]);export{j as default};
