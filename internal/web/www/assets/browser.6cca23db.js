const e=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"],r=[..."0123456789"],t=[..."CDEHKMPRTUWXY012458"],n=[..."!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"],i=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"],o=(e,r,t)=>{const n=r.length,i=Math.floor(65536/n)*n-1,o=2*Math.ceil(1.1*e);let a="",c=0;for(;c<e;){const l=t(o);let u=0;for(;u<o&&c<e;){const e=(h=l)[s=u]+(h[s+1]<<8);u+=2,e>i||(a+=r[e%n],c++)}}var h,s;return a},a=new Set([void 0,"hex","base64","url-safe","numeric","distinguishable","ascii-printable","alphanumeric"]);const c=e=>[...e].map((e=>e.toString(16).padStart(2,"0"))).join(""),h=e=>btoa(String.fromCodePoint(...e));function s(e){const r=new Uint8Array(e);for(let t=0;t<e;t+=65536)r.set(crypto.getRandomValues(new Uint8Array(Math.min(65536,e-t))),t);return r}var l=((o,c,h)=>({length:s,type:l,characters:u})=>{if(!(s>=0&&Number.isFinite(s)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(void 0!==l&&void 0!==u)throw new TypeError("Expected either `type` or `characters`");if(void 0!==u&&"string"!=typeof u)throw new TypeError("Expected `characters` to be string");if(!a.has(l))throw new TypeError(`Unknown type: ${l}`);if(void 0===l&&void 0===u&&(l="hex"),"hex"===l||void 0===l&&void 0===u)return c(Math.ceil(.5*s),"hex",s);if("base64"===l)return c(Math.ceil(.75*s),"base64",s);if("url-safe"===l)return o(s,e,h);if("numeric"===l)return o(s,r,h);if("distinguishable"===l)return o(s,t,h);if("ascii-printable"===l)return o(s,n,h);if("alphanumeric"===l)return o(s,i,h);if(0===u.length)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(u.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return o(s,u,h)})(o,(function(e,r,t){const n=s(e);return("hex"===r?c:h)(n).slice(0,t)}),s);export{l as c};
