import{K as a,L as t,M as e,B as s,o as i,c as o,w as d,a as r,j as l,C as n,F as m,r as u,e as c,d as h,i as p}from"./index.9b1e08a7.js";import{_ as f,a as w}from"./uni-fab.3c991723.js";import{_ as k,a as y}from"./uni-list.23a0ebb9.js";import{r as b}from"./const.19faadc4.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.cae5d20c.js";var g=_({data:()=>({keyword:"",limit:20,datum:[]}),onPullDownRefresh(){this.datum=[],this.skip=0},onReachBottom(){this.load()},onLoad(a){this.gateway=a.gateway,this.load()},methods:{load(){a({}),b({url:"server/search",method:"POST",data:{skip:this.datum.length,limit:this.limit,keyword:this.keyword?{id:this.keyword,name:this.keyword}:{},filter:this.gateway?{gateway_id:this.gateway}:{}},success:a=>{this.datum=this.datum.concat(a)},complete(){t(),e()}})},onSearch(){this.datum=[],this.load()},create(){s({url:"./edit"})}}},[["render",function(a,t,e,s,b,_){const g=u(c("uni-search-bar"),f),j=u(c("uni-fab"),w),v=p,C=u(c("uni-list-item"),k),F=u(c("uni-list"),y),x=h;return i(),o(x,null,{default:d((()=>[r(g,{onConfirm:_.onSearch,onInput:t[0]||(t[0]=()=>{}),placeholder:"ID 名称",modelValue:b.keyword,"onUpdate:modelValue":t[1]||(t[1]=a=>b.keyword=a)},null,8,["onConfirm","modelValue"]),r(j,{onFabClick:_.create},null,8,["onFabClick"]),r(F,null,{default:d((()=>[(i(!0),l(m,null,n(b.datum,((a,t)=>(i(),o(C,{key:t,title:a.name,note:a.id,link:"",to:"./detail?id="+a.id},{header:d((()=>[r(v,{class:"icon",src:"/assets/server.c4705aac.svg",mode:"aspectFit"})])),_:2},1032,["title","note","to"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-8bb2e8e4"]]);export{g as default};
