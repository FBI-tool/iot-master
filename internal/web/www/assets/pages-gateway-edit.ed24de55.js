import{b as a,_ as e,a as l}from"./uni-forms.3c0cbf84.js";import{o as d,c as o,w as n,a as t,b as s,r,e as i,f as m,d as u}from"./index.8d4a8305.js";import{c}from"./browser.6cca23db.js";import{r as p}from"./const.9e5d4232.js";import{_ as f}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.51822eb1.js";var h=f({data:()=>({id:"",data:{id:"",name:"",type:"",version:"",username:"",password:""}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{randomClientID(){this.data.id=c({length:24,type:"hex"})},randomUsername(){this.data.username=c({length:12,type:"hex"})},randomPassword(){this.data.password=c({length:8,type:"alphanumeric"})},load(){p({url:"gateway/"+this.id,success:a=>{this.data=a}})},save(){uni.showLoading({}),p({url:"gateway/"+(this.id||"create"),method:"POST",data:this.data,success(){uni.navigateBack()},complete(){uni.hideLoading()}})}}},[["render",function(c,p,f,h,V,y){const I=r(i("uni-easyinput"),a),b=r(i("uni-forms-item"),e),w=r(i("uni-forms"),l),_=m,C=u;return d(),o(C,{class:"p20"},{default:n((()=>[t(w,null,{default:n((()=>[t(b,{label:"MQTT ClientID",name:"id"},{default:n((()=>[t(I,{modelValue:V.data.id,"onUpdate:modelValue":p[0]||(p[0]=a=>V.data.id=a),placeholder:"默认为UUID,建议使用IMEI号",suffixIcon:"refreshempty",onIconClick:y.randomClientID},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"MQTT 账号",name:"username"},{default:n((()=>[t(I,{modelValue:V.data.username,"onUpdate:modelValue":p[1]||(p[1]=a=>V.data.username=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:y.randomUsername},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"MQTT 密码",name:"password"},{default:n((()=>[t(I,{modelValue:V.data.password,"onUpdate:modelValue":p[2]||(p[2]=a=>V.data.password=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:y.randomPassword},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"名称",name:"name"},{default:n((()=>[t(I,{modelValue:V.data.name,"onUpdate:modelValue":p[3]||(p[3]=a=>V.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),t(b,{label:"类型",name:"type"},{default:n((()=>[t(I,{modelValue:V.data.type,"onUpdate:modelValue":p[4]||(p[4]=a=>V.data.type=a),placeholder:""},null,8,["modelValue"])])),_:1}),t(b,{label:"版本",name:"version"},{default:n((()=>[t(I,{modelValue:V.data.version,"onUpdate:modelValue":p[5]||(p[5]=a=>V.data.version=a),placeholder:""},null,8,["modelValue"])])),_:1})])),_:1}),t(_,{type:"primary",onClick:y.save},{default:n((()=>[s("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{h as default};
