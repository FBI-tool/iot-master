import{v as e,K as a,N as l,L as d,o as t,c as o,w as s,a as r,b as i,r as n,e as u,f as m,d as p}from"./index.f9d0ec48.js";import{b as c,_ as f,a as h}from"./uni-forms.91cc1c70.js";import{_ as V}from"./uni-section.1de099dc.js";import{r as _}from"./const.9d79c950.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.f8e12434.js";var y=v({data:()=>({id:"",data:{name:"",type:"",addr:"",protocol:{name:""},devices:[]}}),onLoad(e){this.id=e.id,this.id&&this.load()},methods:{load(){_({url:"server/"+this.id,success:e=>{this.data=e}})},save(){e("log","at pages/server/edit.vue:59",this.id),a({}),_({url:"server/"+(this.id||"create"),method:"POST",data:this.data,success(){l()},complete(){d()}})}}},[["render",function(e,a,l,d,_,v){const y=n(u("uni-easyinput"),c),b=n(u("uni-forms-item"),f),j=n(u("uni-section"),V),U=n(u("uni-forms"),h),g=m,x=p;return t(),o(x,{class:"p20"},{default:s((()=>[r(U,null,{default:s((()=>[r(b,{label:"名称",name:"name"},{default:s((()=>[r(y,{modelValue:_.data.name,"onUpdate:modelValue":a[0]||(a[0]=e=>_.data.name=e),placeholder:""},null,8,["modelValue"])])),_:1}),r(b,{label:"类型",name:"type"},{default:s((()=>[r(y,{modelValue:_.data.type,"onUpdate:modelValue":a[1]||(a[1]=e=>_.data.type=e),placeholder:"tcp,udp"},null,8,["modelValue"])])),_:1}),r(b,{label:"地址",name:"addr"},{default:s((()=>[r(y,{modelValue:_.data.addr,"onUpdate:modelValue":a[2]||(a[2]=e=>_.data.addr=e),placeholder:""},null,8,["modelValue"])])),_:1}),r(j,{title:"协议",type:"line"},{default:s((()=>[r(b,{label:"名称",name:"name"},{default:s((()=>[r(y,{modelValue:_.data.protocol.name,"onUpdate:modelValue":a[3]||(a[3]=e=>_.data.protocol.name=e),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1}),r(j,{title:"默认设备",type:"line"})])),_:1}),r(g,{type:"primary",onClick:v.save},{default:s((()=>[i("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{y as default};
