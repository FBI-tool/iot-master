import{b as a,_ as e,a as l}from"./uni-forms.3c0cbf84.js";import{o as d,c as o,w as n,a as s,b as t,r,e as i,f as m,d as u}from"./index.8d4a8305.js";import{c as p}from"./browser.6cca23db.js";import{r as c}from"./const.9e5d4232.js";import{_ as f}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.51822eb1.js";var h=f({data:()=>({id:"",data:{id:"",name:"",type:"",version:"",username:"",password:""}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{randomClientID(){this.data.id=p({length:24,type:"hex"})},randomUsername(){this.data.username=p({length:12,type:"hex"})},randomPassword(){this.data.password=p({length:8,type:"alphanumeric"})},load(){c({url:"plugin/"+this.id,success:a=>{this.data=a}})},save(){uni.showLoading({}),c({url:"plugin/"+(this.id||"create"),method:"POST",data:this.data,success(){uni.navigateBack()},complete(){uni.hideLoading()}})}}},[["render",function(p,c,f,h,V,I){const y=r(i("uni-easyinput"),a),b=r(i("uni-forms-item"),e),_=r(i("uni-forms"),l),C=m,w=u;return d(),o(w,{class:"p20"},{default:n((()=>[s(_,null,{default:n((()=>[s(b,{label:"MQTT ClientID",name:"id"},{default:n((()=>[s(y,{modelValue:V.data.id,"onUpdate:modelValue":c[0]||(c[0]=a=>V.data.id=a),placeholder:"默认为UUID,建议使用IMEI号",suffixIcon:"refreshempty",onIconClick:I.randomClientID},null,8,["modelValue","onIconClick"])])),_:1}),s(b,{label:"MQTT 账号",name:"username"},{default:n((()=>[s(y,{modelValue:V.data.username,"onUpdate:modelValue":c[1]||(c[1]=a=>V.data.username=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:I.randomUsername},null,8,["modelValue","onIconClick"])])),_:1}),s(b,{label:"MQTT 密码",name:"password"},{default:n((()=>[s(y,{modelValue:V.data.password,"onUpdate:modelValue":c[2]||(c[2]=a=>V.data.password=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:I.randomPassword},null,8,["modelValue","onIconClick"])])),_:1}),s(b,{label:"名称",name:"name"},{default:n((()=>[s(y,{modelValue:V.data.name,"onUpdate:modelValue":c[3]||(c[3]=a=>V.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),s(b,{label:"类型",name:"type"},{default:n((()=>[s(y,{modelValue:V.data.type,"onUpdate:modelValue":c[4]||(c[4]=a=>V.data.type=a),placeholder:""},null,8,["modelValue"])])),_:1}),s(b,{label:"版本",name:"version"},{default:n((()=>[s(y,{modelValue:V.data.version,"onUpdate:modelValue":c[5]||(c[5]=a=>V.data.version=a),placeholder:""},null,8,["modelValue"])])),_:1})])),_:1}),s(C,{type:"primary",onClick:I.save},{default:n((()=>[t("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{h as default};
