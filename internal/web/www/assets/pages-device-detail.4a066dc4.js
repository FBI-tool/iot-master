import{q as t,o as i,c as e,w as s,a as o,j as a,u as l,F as d,g as r,b as n,r as u,e as c,d as m,t as p}from"./index.8d4a8305.js";import{_ as f,a as h}from"./uni-list.723f536b.js";import{d as _,_ as g}from"./time.0102cd3d.js";import{_ as v}from"./uni-icons.51822eb1.js";import{_ as x,a as b}from"./uni-grid.ef650232.js";import{_ as j}from"./uni-section.96f3ba19.js";import{r as T}from"./const.9e5d4232.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./_commonjsHelpers.4e997714.js";var y=k({data:()=>({data:{},product:{}}),onLoad(t){this.id=t.id,this.load()},onPullDownRefresh(){this.load()},methods:{format:_,load(){T({url:"device/"+this.id,success:t=>{this.data=t,t.product_id&&this.loadProduct()},complete(){uni.stopPullDownRefresh()}})},loadProduct(){T({url:"product/"+this.id.product_id,success:t=>{this.product=t},complete(){uni.stopPullDownRefresh()}})},remove(){uni.showModal({title:"提示",content:"确定删除？",success:i=>{i.confirm&&(t("log","at pages/device/detail.vue:100","用户点击确定"),T({url:"device/"+this.id+"/delete",success:t=>{uni.navigateBack(),uni.showToast({title:"删除成功"})}}))},fail:console.error})}}},[["render",function(t,_,T,k,y,w){const P=u(c("uni-list-item"),f),D=u(c("uni-list"),h),R=u(c("uni-card"),g),C=u(c("uni-icons"),v),O=u(c("uni-grid-item"),x),q=u(c("uni-grid"),b),B=u(c("uni-section"),j),E=m;return i(),e(E,null,{default:s((()=>[o(R,{title:y.data.name,subTitle:y.data.id,extra:"在线",note:"Tips",thumbnail:"/static/icons/device.svg"},{default:s((()=>[o(D,{border:!1},{default:s((()=>[o(P,{title:"ID",rightText:y.data.id},null,8,["rightText"]),o(P,{title:"网关",rightText:y.data.gateway_id},null,8,["rightText"]),o(P,{title:"创建时间",rightText:w.format(y.data.created)},null,8,["rightText"])])),_:1})])),_:1},8,["title","subTitle"]),o(D,null,{default:s((()=>[o(P,{title:"可视化组态",link:"",to:"./interface?id="+t.id},{header:s((()=>[o(C,{class:"list-icon",type:"color"})])),_:1},8,["to"]),o(P,{title:"编辑设备",link:"",to:"./edit?id="+t.id},{header:s((()=>[o(C,{class:"list-icon",customPrefix:"iconfont",type:"icon-pen"})])),_:1},8,["to"]),o(P,{title:"删除设备",onClick:w.remove,clickable:!0},{header:s((()=>[o(C,{class:"list-icon",customPrefix:"iconfont",type:"icon-dustbin"})])),_:1},8,["onClick"])])),_:1}),y.product&&y.product.points?(i(),e(B,{key:0,title:"变量",type:"line"},{default:s((()=>[o(q,{column:3},{default:s((()=>[(i(!0),a(d,null,l(y.product.points,((t,o)=>(i(),e(O,{key:o},{default:s((()=>[n(p(t.label||t.name)+" 0 ",1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),o(B,{title:"日志",type:"line"},{default:s((()=>[n(" TODO：Event ")])),_:1})])),_:1})}]]);export{y as default};
