import{K as e,N as a,L as l,B as t,o as d,c as n,w as o,a as s,b as u,r as c,e as i,f as r,d as m}from"./index.e4ec1751.js";import{b as p,_ as f,a as _}from"./uni-forms.0ce0679e.js";import{r as h}from"./const.d9b9d0f3.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.fc70ceff.js";var I=V({data:()=>({id:"",data:{name:"",station:1,tunnel_id:"",product_id:"",interface_id:""}}),onLoad(e){this.id=e.id,this.id&&this.load()},methods:{load(){h({url:"device/"+this.id,success:e=>{this.data=e}})},save(){e({}),h({url:"device/"+(this.id||"create"),method:"POST",data:this.data,success(){a()},complete(){l()}})},selectTunnel(){t({url:"/pages/tunnel/tunnel?select=true",events:{select:e=>{this.data.tunnel_id=e}}})},selectProduct(){t({url:"/pages/product/product?select=true",events:{select:e=>{this.data.product_id=e}}})},selectInterface(){t({url:"/pages/interface/interface?select=true",events:{select:e=>{this.data.interface_id=e}}})}}},[["render",function(e,a,l,t,h,V){const I=c(i("uni-easyinput"),p),b=c(i("uni-forms-item"),f),v=c(i("uni-forms"),_),k=r,C=m;return d(),n(C,{class:"p20"},{default:o((()=>[s(v,null,{default:o((()=>[s(b,{label:"名称",name:"name"},{default:o((()=>[s(I,{modelValue:h.data.name,"onUpdate:modelValue":a[0]||(a[0]=e=>h.data.name=e),placeholder:""},null,8,["modelValue"])])),_:1}),s(b,{label:"站号",name:"station"},{default:o((()=>[s(I,{type:"number",modelValue:h.data.station,"onUpdate:modelValue":a[1]||(a[1]=e=>h.data.station=e),placeholder:"从机号"},null,8,["modelValue"])])),_:1}),s(b,{label:"通道",name:"tunnel_id"},{default:o((()=>[s(I,{modelValue:h.data.tunnel_id,"onUpdate:modelValue":a[2]||(a[2]=e=>h.data.tunnel_id=e),placeholder:"点击右边小图标选择",suffixIcon:"plus",onIconClick:V.selectTunnel},null,8,["modelValue","onIconClick"])])),_:1}),s(b,{label:"产品",name:"product_id"},{default:o((()=>[s(I,{modelValue:h.data.product_id,"onUpdate:modelValue":a[3]||(a[3]=e=>h.data.product_id=e),placeholder:"点击右边小图标选择",suffixIcon:"plus",onIconClick:V.selectProduct},null,8,["modelValue","onIconClick"])])),_:1}),s(b,{label:"组态",name:"interface_id"},{default:o((()=>[s(I,{modelValue:h.data.interface_id,"onUpdate:modelValue":a[4]||(a[4]=e=>h.data.interface_id=e),placeholder:"点击右边小图标选择",suffixIcon:"plus",onIconClick:V.selectInterface},null,8,["modelValue","onIconClick"])])),_:1})])),_:1}),s(k,{type:"primary",onClick:V.save},{default:o((()=>[u("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{I as default};
