import{M as t,p as e,v as i,N as a,m as s,o,c as l,w as d,a as r,j as c,C as n,F as u,g as m,b as p,r as f,e as h,d as _,t as g}from"./index.9b1e08a7.js";import{_ as b,a as v}from"./uni-list.23a0ebb9.js";import{d as x,_ as j}from"./time.c7d04524.js";import{_ as T}from"./uni-icons.cae5d20c.js";import{_ as y,a as k}from"./uni-grid.d949ebd7.js";import{_ as P}from"./uni-section.fa539b76.js";import{r as w}from"./const.19faadc4.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./_commonjsHelpers.4e997714.js";var D=C({data:()=>({data:{},product:{}}),onLoad(t){this.id=t.id,this.load()},onPullDownRefresh(){this.load()},methods:{format:x,load(){w({url:"device/"+this.id,success:t=>{this.data=t,t.product_id&&this.loadProduct()},complete(){t()}})},loadProduct(){w({url:"product/"+this.id.product_id,success:t=>{this.product=t},complete(){t()}})},remove(){e({title:"提示",content:"确定删除？",success:t=>{t.confirm&&(i("log","at pages/device/detail.vue:100","用户点击确定"),w({url:"device/"+this.id+"/delete",success:t=>{a(),s({title:"删除成功"})}}))},fail:console.error})}}},[["render",function(t,e,i,a,s,x){const w=f(h("uni-list-item"),b),C=f(h("uni-list"),v),D=f(h("uni-card"),j),O=f(h("uni-icons"),T),E=f(h("uni-grid-item"),y),F=f(h("uni-grid"),k),H=f(h("uni-section"),P),I=_;return o(),l(I,null,{default:d((()=>[r(D,{title:s.data.name,subTitle:s.data.id,extra:"在线",note:"Tips",thumbnail:"/static/icons/device.svg"},{default:d((()=>[r(C,{border:!1},{default:d((()=>[r(w,{title:"ID",rightText:s.data.id},null,8,["rightText"]),r(w,{title:"网关",rightText:s.data.gateway_id},null,8,["rightText"]),r(w,{title:"创建时间",rightText:x.format(s.data.created)},null,8,["rightText"])])),_:1})])),_:1},8,["title","subTitle"]),r(C,null,{default:d((()=>[r(w,{title:"可视化组态",link:"",to:"./interface?id="+t.id},{header:d((()=>[r(O,{class:"list-icon",type:"color"})])),_:1},8,["to"]),r(w,{title:"编辑设备",link:"",to:"./edit?id="+t.id},{header:d((()=>[r(O,{class:"list-icon",customPrefix:"iconfont",type:"icon-pen"})])),_:1},8,["to"]),r(w,{title:"删除设备",onClick:x.remove,clickable:!0},{header:d((()=>[r(O,{class:"list-icon",customPrefix:"iconfont",type:"icon-dustbin"})])),_:1},8,["onClick"])])),_:1}),s.product&&s.product.points?(o(),l(H,{key:0,title:"变量",type:"line"},{default:d((()=>[r(F,{column:3},{default:d((()=>[(o(!0),c(u,null,n(s.product.points,((t,e)=>(o(),l(E,{key:e},{default:d((()=>[p(g(t.label||t.name)+" 0 ",1)])),_:2},1024)))),128))])),_:1})])),_:1})):m("",!0),r(H,{title:"日志",type:"line"},{default:d((()=>[p(" TODO：Event ")])),_:1})])),_:1})}]]);export{D as default};
