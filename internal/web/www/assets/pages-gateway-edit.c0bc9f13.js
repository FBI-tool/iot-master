import{K as a,N as e,L as l,o as d,c as o,w as s,a as t,b as n,r,e as m,f as i,d as u}from"./index.9b1e08a7.js";import{b as c,_ as p,a as f}from"./uni-forms.18af1bf1.js";import{c as h}from"./browser.6cca23db.js";import{r as V}from"./const.19faadc4.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.cae5d20c.js";var I=y({data:()=>({id:"",data:{id:"",name:"",type:"",version:"",username:"",password:""}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{randomClientID(){this.data.id=h({length:24,type:"hex"})},randomUsername(){this.data.username=h({length:12,type:"hex"})},randomPassword(){this.data.password=h({length:8,type:"alphanumeric"})},load(){V({url:"gateway/"+this.id,success:a=>{this.data=a}})},save(){a({}),V({url:"gateway/"+(this.id||"create"),method:"POST",data:this.data,success(){e()},complete(){l()}})}}},[["render",function(a,e,l,h,V,y){const I=r(m("uni-easyinput"),c),b=r(m("uni-forms-item"),p),_=r(m("uni-forms"),f),w=i,C=u;return d(),o(C,{class:"p20"},{default:s((()=>[t(_,null,{default:s((()=>[t(b,{label:"MQTT ClientID",name:"id"},{default:s((()=>[t(I,{modelValue:V.data.id,"onUpdate:modelValue":e[0]||(e[0]=a=>V.data.id=a),placeholder:"默认为UUID,建议使用IMEI号",suffixIcon:"refreshempty",onIconClick:y.randomClientID},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"MQTT 账号",name:"username"},{default:s((()=>[t(I,{modelValue:V.data.username,"onUpdate:modelValue":e[1]||(e[1]=a=>V.data.username=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:y.randomUsername},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"MQTT 密码",name:"password"},{default:s((()=>[t(I,{modelValue:V.data.password,"onUpdate:modelValue":e[2]||(e[2]=a=>V.data.password=a),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:y.randomPassword},null,8,["modelValue","onIconClick"])])),_:1}),t(b,{label:"名称",name:"name"},{default:s((()=>[t(I,{modelValue:V.data.name,"onUpdate:modelValue":e[3]||(e[3]=a=>V.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),t(b,{label:"类型",name:"type"},{default:s((()=>[t(I,{modelValue:V.data.type,"onUpdate:modelValue":e[4]||(e[4]=a=>V.data.type=a),placeholder:""},null,8,["modelValue"])])),_:1}),t(b,{label:"版本",name:"version"},{default:s((()=>[t(I,{modelValue:V.data.version,"onUpdate:modelValue":e[5]||(e[5]=a=>V.data.version=a),placeholder:""},null,8,["modelValue"])])),_:1})])),_:1}),t(w,{type:"primary",onClick:y.save},{default:s((()=>[n("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{I as default};
