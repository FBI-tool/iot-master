import{v as a,K as e,N as l,L as d,o as t,c as o,w as s,a as r,b as i,r as n,e as u,f as m,d as p}from"./index.9b1e08a7.js";import{b as c,_ as f,a as h}from"./uni-forms.18af1bf1.js";import{_ as V}from"./uni-section.fa539b76.js";import{r as _}from"./const.19faadc4.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.cae5d20c.js";var b=v({data:()=>({id:"",data:{name:"",type:"",addr:"",protocol:{name:""},devices:[]}}),onLoad(a){this.id=a.id,this.id&&this.load()},methods:{load(){_({url:"server/"+this.id,success:a=>{this.data=a}})},save(){a("log","at pages/server/edit.vue:59",this.id),e({}),_({url:"server/"+(this.id||"create"),method:"POST",data:this.data,success(){l()},complete(){d()}})}}},[["render",function(a,e,l,d,_,v){const b=n(u("uni-easyinput"),c),y=n(u("uni-forms-item"),f),j=n(u("uni-section"),V),U=n(u("uni-forms"),h),g=m,x=p;return t(),o(x,{class:"p20"},{default:s((()=>[r(U,null,{default:s((()=>[r(y,{label:"名称",name:"name"},{default:s((()=>[r(b,{modelValue:_.data.name,"onUpdate:modelValue":e[0]||(e[0]=a=>_.data.name=a),placeholder:""},null,8,["modelValue"])])),_:1}),r(y,{label:"类型",name:"type"},{default:s((()=>[r(b,{modelValue:_.data.type,"onUpdate:modelValue":e[1]||(e[1]=a=>_.data.type=a),placeholder:"tcp,udp"},null,8,["modelValue"])])),_:1}),r(y,{label:"地址",name:"addr"},{default:s((()=>[r(b,{modelValue:_.data.addr,"onUpdate:modelValue":e[2]||(e[2]=a=>_.data.addr=a),placeholder:""},null,8,["modelValue"])])),_:1}),r(j,{title:"协议",type:"line"},{default:s((()=>[r(y,{label:"名称",name:"name"},{default:s((()=>[r(b,{modelValue:_.data.protocol.name,"onUpdate:modelValue":e[3]||(e[3]=a=>_.data.protocol.name=a),placeholder:"TODO:改为下拉选择"},null,8,["modelValue"])])),_:1})])),_:1}),r(j,{title:"默认设备",type:"line"})])),_:1}),r(g,{type:"primary",onClick:v.save},{default:s((()=>[i("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{b as default};
