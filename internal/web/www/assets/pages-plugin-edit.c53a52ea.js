import{K as e,N as a,L as l,o as d,c as o,w as s,a as n,b as t,r,e as m,f as i,d as u}from"./index.e4ec1751.js";import{b as c,_ as p,a as f}from"./uni-forms.0ce0679e.js";import{c as h}from"./browser.6cca23db.js";import{r as V}from"./const.d9b9d0f3.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.fc70ceff.js";var y=I({data:()=>({id:"",data:{id:"",name:"",type:"",version:"",username:"",password:""}}),onLoad(e){this.id=e.id,this.id&&this.load()},methods:{randomClientID(){this.data.id=h({length:24,type:"hex"})},randomUsername(){this.data.username=h({length:12,type:"hex"})},randomPassword(){this.data.password=h({length:8,type:"alphanumeric"})},load(){V({url:"plugin/"+this.id,success:e=>{this.data=e}})},save(){e({}),V({url:"plugin/"+(this.id||"create"),method:"POST",data:this.data,success(){a()},complete(){l()}})}}},[["render",function(e,a,l,h,V,I){const y=r(m("uni-easyinput"),c),_=r(m("uni-forms-item"),p),b=r(m("uni-forms"),f),C=i,U=u;return d(),o(U,{class:"p20"},{default:s((()=>[n(b,null,{default:s((()=>[n(_,{label:"MQTT ClientID",name:"id"},{default:s((()=>[n(y,{modelValue:V.data.id,"onUpdate:modelValue":a[0]||(a[0]=e=>V.data.id=e),placeholder:"默认为UUID,建议使用IMEI号",suffixIcon:"refreshempty",onIconClick:I.randomClientID},null,8,["modelValue","onIconClick"])])),_:1}),n(_,{label:"MQTT 账号",name:"username"},{default:s((()=>[n(y,{modelValue:V.data.username,"onUpdate:modelValue":a[1]||(a[1]=e=>V.data.username=e),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:I.randomUsername},null,8,["modelValue","onIconClick"])])),_:1}),n(_,{label:"MQTT 密码",name:"password"},{default:s((()=>[n(y,{modelValue:V.data.password,"onUpdate:modelValue":a[2]||(a[2]=e=>V.data.password=e),placeholder:"默认为空",suffixIcon:"refreshempty",onIconClick:I.randomPassword},null,8,["modelValue","onIconClick"])])),_:1}),n(_,{label:"名称",name:"name"},{default:s((()=>[n(y,{modelValue:V.data.name,"onUpdate:modelValue":a[3]||(a[3]=e=>V.data.name=e),placeholder:""},null,8,["modelValue"])])),_:1}),n(_,{label:"类型",name:"type"},{default:s((()=>[n(y,{modelValue:V.data.type,"onUpdate:modelValue":a[4]||(a[4]=e=>V.data.type=e),placeholder:""},null,8,["modelValue"])])),_:1}),n(_,{label:"版本",name:"version"},{default:s((()=>[n(y,{modelValue:V.data.version,"onUpdate:modelValue":a[5]||(a[5]=e=>V.data.version=e),placeholder:""},null,8,["modelValue"])])),_:1})])),_:1}),n(C,{type:"primary",onClick:I.save},{default:s((()=>[t("保存")])),_:1},8,["onClick"])])),_:1})}]]);export{y as default};
